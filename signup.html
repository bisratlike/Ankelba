<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ankelba</title>
    <link href="dist/tailwind.css" rel="stylesheet">

    <style>
        @media only screen and (max-width:640px){
            body{
                background: url('images/team.jpg');
            }
        }
            
        
    </style>
</head>
<body class="overflow-x-hidden">
    <header class="bg-gradient-to-r from-pink-400 via-purple-500 to-purple-300 text-white py-12 flex justify-between items-center p-10">
        <section class="pt-12">
            <i class="text-4xl">Ankelba</i>
        </section>
        <section class="hidden lg:flex items-center space-x-3 pt-12 justify-center"> <!-- Centered for desktop -->
            <a href="home.html" class="w-24 hover:bg-green-600 flex items-center justify-center">Home</a>
            <a href="profile.html" class="w-24 hover:bg-green-600 flex items-start mr-12">Profile</a>
            <a href="users-dashboard.html" class="w-24 hover:bg-green-600 flex items-center justify-center">User's Dashboard</a>
            <a href="about.html" class="w-24 hover:bg-green-600 flex items-center justify-center">About us</a>
            <a href="contact.html" class="w-24 hover:bg-green-600 flex items-center justify-center">Contact</a>
        </section>
        <section class="hidden lg:flex space-x-3 pt-12">
            <a href="login.html" class="w-24 hover:bg-green-600 flex items-center justify-center">Login</a>
            <a href="signup.html" class="w-24 hover:bg-green-600 flex items-center justify-center">Sign up</a>
        </section>
        <section class="lg:hidden flex flex-col items-end"> <!-- Display for small screens -->
            <button id="hamburger" class="text-white focus:outline-none">
                <svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path>
                </svg>
            </button>
            <div class="hidden flex flex-col items-end space-y-2" id="mobile-links"> <!-- Adjusted styling -->
                <a href="home.html" class="w-24 hover:bg-green-600 flex items-start mr-12">Home</a>
                <a href="profile.html" class="w-24 hover:bg-green-600 flex items-start mr-12">Profile</a>
                <a href="users-dashboard.html" class="w-24 hover:bg-green-600 flex items-start mr-12">User's Dashboard</a>
                <a href="about.html" class="w-24 hover:bg-green-600 flex items-start mr-12">About us</a>
                <a href="contact.html" class="w-24 hover:bg-green-600 flex items-start mr-12">Contact</a>
                <a href="login.html" class="w-24 hover:bg-green-600 flex items-start mr-12">Login</a>
                <a href="signup.html" class="w-24 hover:bg-green-600 flex items-start mr-12">Sign up</a>
            </div>
        </section>
    </header>
    <div class="flex justify-center items-center ">
       
        <section class="w-full md:w-1/2 lg:w-2/5 xl:w-2/5 sm:w-1/2 flex flex-col items-center justify-center  mr-5 ">
            <section class="w-full md:w-1/3 lg:w-3/5 sm:w-1/2 flex flex-col items-center justify-center max-w-sm">
               <h1 class="text-center  font-bold text-2xl mb-8 mt-12">Sign Up</h1>
               <em><p class="pb-7">Welcome to our page, sign up please!</p></em>
               <input type="text" name="full-name" placeholder="Full name" class="bg-gray-200 placeholder-black mb-2 p-2 rounded-md w-full text-center">
               <br>
               <input type="email" placeholder="Email" name="email" class="bg-gray-200 placeholder-black mb-2 p-2 rounded-md w-full text-center">
               <br>
               <input type="number" placeholder="Phone number" name="phone-number" class="bg-gray-200 placeholder-black mb-2 p-2 rounded-md w-full text-center">
               <br>
               <input type="password" placeholder="Password" name="password" class="bg-gray-200 placeholder-black mb-2 p-2 rounded-md w-full text-center">
               <br>
               <input type="password" placeholder="Confirm password" name="confirm-password" class="bg-gray-200 placeholder-black mb-2 p-2 rounded-md w-full text-center">
               <br>
               <button onclick="signUp()" class="bg-green-500 text-white p-1 pl-3 pr-3 mt-7 mb-12 max-w-sm rounded-md">Sign up</button>
            </section>
           </section>
        
        <section class="w-1/2 lg:w-3/5 xl:w-3/5 md:w-1/2 sm:w-1/2 hidden sm:block">
            <img src="images/team.jpg" alt="team photo" class="mt-0 ml-5 items-end">
        </section>
    </div>
    <footer class="flex-container text-white flex flex-wrap justify-between pr-12 bg-gradient-to-r from-pink-400 via-purple-500 to-purple-300 animate-wave">
        <section class="w-full sm:w-auto flex-shrink-0">
            <pre>
                We are really happy
                to have you by our side,
                happy to work with you!
            </pre>
        </section>
        <section class="w-full sm:w-auto flex-shrink-0">
            <address>
                <pre>
                call us: 
                    +251908030809 
                    +251974977967 
                    +251991478188 
                </pre>
            </address>
            <section class="flex pl-12 ml-12 pt-12 pb-8 rounded-full">
                <a href=https://t.me/LDT222><img class="w-12 h-12 mr-5 rounded-full" src="images/telegram.jpg" alt="telegram icon"></a>
                <a href="https://instagram.com/_l_i_y_u_?igshid=OGQ5ZDc2ODk2ZA=="><img class="w-12 h-12 mr-5 rounded-full" src="images/instagram.jpg" alt="instagram icon"></a>
                <a  href="https://wa.me/qr/VB2TKESWYO2KP1"><img class="w-12 h-12 rounded-full" src="images/whatsapp.jpg" alt="whatsapp icon"></a>
            </section>
        </section>
        <section class="pr-4 flex-shrink-0 mr-12">
            <pre>
                About us
                Contact
                Privacy policy
                Help
            </pre>
        </section>
    </footer>
        
    <script>
                    async function signUp() {
                const fullName = document.getElementsByName('full-name')[0].value;
                const email = document.getElementsByName('email')[0].value;
                const phoneNumber = document.getElementsByName('phone-number')[0].value;
                const password = document.getElementsByName('password')[0].value;
                const confirmPassword = document.getElementsByName('confirm-password')[0].value;
                    
                // Password security checks
                if (password.length < 8) {
                    alert('Password must be at least 8 characters long.');
                    return;
                }

                // Additional password security checks (add your own criteria)

                // Email format validation
                const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                if (!emailRegex.test(email)) {
                    alert('Invalid email format.');
                    return;
                }

                // Password confirmation check
                if (password !== confirmPassword) {
                    alert('Passwords do not match.');
                    return;
                }

                try {
                    const response = await fetch('http://localhost:3000/auth/signup', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify({ name: fullName, email, phoneNumber, password }),
                    });

                    const data = await response.json();

                    if (response.status === 201) {
                        // Successful signup, redirect to login or any other page
                        window.location.href = 'home.html';
                        const userToken = data.access_token; // Replace this with the actual token

                    localStorage.setItem('userToken', userToken);
                    } else if (data.message) {
                        // Display specific error message from the server
                        console.error('Error during signup:', data.message);
                        alert(data.message);
                    } else {
                        // No specific error message, do nothing
                        console.error('Error during signup. No specific error message from the server.');
                    }
                } catch (error) {
                    // Display a generic error message
                    console.error('Error during signup:', error);
                    alert('An error occurred during signup. Please try again.');
                }
            }

    </script>
    <script src="script.js"></script>
</body>
</html>